#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

set -euo pipefail

# Skip DB-dependent initialization for lightweight unit tests unless caller overrides
export SKIP_DB_SETUP="${SKIP_DB_SETUP:-true}"

printf '\n[husky] running backend lint\n'
npm run lint --workspace=backend

printf '\n[husky] running backend unit tests\n'
npm run test:unit --workspace=backend -- --runInBand
