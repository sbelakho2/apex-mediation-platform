# Upptime configuration for ApexMediation status page
owner: bel-consulting
repo: status-page
user-agent: ApexMediation-UptimeBot/1.0
assignees:
  - bel-consulting/platform-infra

status-website:
  cname: status.apexmediation.ee
  baseUrl: /
  logoUrl: https://console.apexmediation.ee/logo.svg
  name: ApexMediation Status
  introTitle: ApexMediation â€” Transparency & Reliability
  introMessage: |
    Live uptime for auction, SDK config, billing, and transparency services.
    Incidents follow the SEV taxonomy defined in `docs/Monitoring/STATUS_PAGE_AND_INCIDENT_TAXONOMY.md`.
  navbar:
    - title: Status
      href: /
    - title: Incident Guide
      href: https://github.com/bel-consulting/Ad-Project/blob/main/docs/Monitoring/STATUS_PAGE_AND_INCIDENT_TAXONOMY.md
    - title: Transparency
      href: https://apexmediation.ee/docs/transparency

workflowSchedule:
  uptime: '*/5 * * * *'
  responseTime: '*/10 * * * *'
  summary: '0 1 * * *'
  graphs: '0 * * * *'
  updateTemplate: '0 0 * * *'

notifications:
  - type: slack
    url: ${{ secrets.STATUS_PAGE_SLACK_WEBHOOK }}
  - type: email
    to:
      - security@apexmediation.ee
      - support@apexmediation.ee

sites:
  - name: Auction API
    url: https://api.apexmediation.ee/healthz
    maxResponseTime: 800
    expectedStatusCodes:
      - 200
  - name: SDK Config Service
    url: https://api.apexmediation.ee/v1/config/readyz
    maxResponseTime: 600
    expectedStatusCodes:
      - 200
  - name: Console (Next.js)
    url: https://console.apexmediation.ee
    maxResponseTime: 1200
    expectedStatusCodes:
      - 200
      - 204
  - name: Billing API
    url: https://api.apexmediation.ee/billing/healthz
    maxResponseTime: 900
    expectedStatusCodes:
      - 200
  - name: Transparency Receipts
    url: https://api.apexmediation.ee/api/v1/transparency/keys
    maxResponseTime: 1000
    expectedStatusCodes:
      - 200
  - name: Status Page JSON
    url: https://status.apexmediation.ee/api/status.json
    maxResponseTime: 1500
    expectedStatusCodes:
      - 200

summary:
  checks:
    - sites
  delay: 5

heartbeat:
  cron: '*/15 * * * *'
  url: https://api.apexmediation.ee/api/v1/ops/heartbeat
  method: GET
  expectedStatusCodes:
    - 200
    - 204
