# Deterministic Training Configuration
# Lock this configuration alongside training manifests for reproducibility

# Random seed for all random operations
seed: 42

# Python/NumPy/PyTorch random state
random_state:
  python_seed: 42
  numpy_seed: 42
  torch_seed: 42
  torch_deterministic: true
  torch_benchmark: false  # Disable cudnn benchmarking for determinism

# Hardware environment
hardware:
  target_device: "cpu"  # cpu | cuda | mps
  num_threads: 8
  cuda_visible_devices: "0"  # For GPU training

# Training data versioning
data:
  features_path: "ML Data/features/engineered_features.parquet"
  weak_labels_path: null
  label_column: "label"
  time_column: "event_time"
  data_hash: null  # Will be computed at runtime

# Model hyperparameters
model:
  type: "logistic_regression"  # logistic_regression | xgboost | random_forest
  calibration: "sigmoid"  # sigmoid | isotonic
  penalty: 1.0
  max_iter: 1000
  class_weight: "balanced"

# Cross-validation
cv:
  strategy: "time_series"  # time_series | stratified
  train_weeks: 3
  val_weeks: 1
  min_folds: 1

# Threshold selection
threshold:
  target_precision: 0.8
  min_recall: 0.9

# Output
output:
  registry_root: "models/fraud"
  save_artifacts:
    - trained_fraud_model.json
    - logreg_calibrated.pkl
    - train_meta.json
    - evaluation_metrics.json
    - training_config.yaml
    - environment_snapshot.json
